<!--   Core JS Files   -->
<script src="{{ "js/core/jquery.3.2.1.min.js" | relURL }}" type="text/javascript"></script>
<script src="{{ "js/core/popper.min.js" | relURL }}" type="text/javascript"></script>
<script src="{{ "js/core/bootstrap.min.js" | relURL }}" type="text/javascript"></script>
<!--  Plugin for Switches, full documentation here: http://www.jque.re/plugins/version3/bootstrap.switch/ -->
<script src="{{ "js/plugins/bootstrap-switch.js"| relURL }}"></script>
<!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
<script src="{{ "js/plugins/nouislider.min.js" | relURL }}" type="text/javascript"></script>
<!--  Plugin for the DatePicker, full documentation here: https://github.com/uxsolutions/bootstrap-datepicker -->
<script src="{{ "js/plugins/bootstrap-datepicker.js" | relURL }}" type="text/javascript"></script>
<!-- Control Center for Now Ui Kit: parallax effects, scripts for the example pages etc -->
<script src="{{ "js/now-ui-kit.js?v=1.1.0" | relURL }}" type="text/javascript"></script>
<!-- Contact Script -->
<script src="{{ "js/contact.js" | relURL }}" type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function() {
// hide page title on scroll
    $(window).scroll(function() {

      if ($(this).scrollTop()>50) {
        $('.title-container').fadeOut();
        // this might not work on webkit browsers
        var landingPage = $("body").hasClass("landing-page") == false
        if (landingPage) {
          $(".navbar-brand").text("Manjaro - ");
          $(".page-nav").text(document.title.slice(10));
        }
      }
      else {
        $('.title-container').fadeIn();
        $(".navbar-brand").text("Manjaro - enjoy the simplicity");
        $(".page-nav").text("");
      }
    });
        // the body of this function is in assets/js/now-ui-kit.js
        nowuiKit.initSliders();
    });

    function scrollToDownload() {

        if ($('.section-download').length != 0) {
            $("html, body").animate({
                scrollTop: $('.section-download').offset().top
            }, 1000);
        }
    }
</script>

    {{ range .Site.Params.custom_js }}
    <script src="{{ "/js/" | relURL }}{{ . }}"></script>
    {{ end }}
    
    
      <!-- Code highlighting -->
    {{ if  not .Params.nocode }}
      <link rel="stylesheet" href="/js/plugin/highlight//styles/default.css">
      <script src="/js/plugin/highlight/highlight.pack.js"></script>
      <script>hljs.initHighlightingOnLoad();</script>
      <script>hljs.initHighlightingOnLoad();</script>
    {{ end }}

    <!-- LaTeX math rendering -->
    {{ if not .Params.nomath }}
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
    </script>
    <script async src="/js/plugin/MathJax.js?config=TeX-AMS_CHTML"></script>
    {{ end }}
    {{ if eq .Title "News"}}
    <script>
    (function () {
        var feedUrl = "https://forum.manjaro.org/c/announcements.rss"
        $.get(feedUrl, function(data) {
        var $XML = $(data);
        $XML.find("item").each(function(iter) {
            iter++
            var $this = $(this),
                item = {
                    title:       $this.find("title").text().replace(/\[/g, '').replace(/]/g, ' -'),
                    category:    $this.find("category").text(),
                    description: $this.find("description").html(),
                };
            var modal = "modal" + iter.toString()
            var layout = `
            <article class='blog-post col-sm-12 col-md-10 ml-auto mr-auto'>
            <a class='post-title card ' data-toggle="modal" data-target='#` + modal + `'>` + item.title + `</a>
            </article>
            <div class="modal fade" id="` + modal + `" tabindex="-1" role="dialog" aria-labelledby="` + item.title + `" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">` + item.title + `</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                    ` + item.description + `
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                    </div>
                </div>
            </div>
            `
            $(".blog .row").append(layout);
        });
    });
})();          
</script>
{{ end }}
    
