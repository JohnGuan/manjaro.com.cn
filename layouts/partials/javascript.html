<!--   Core JS Files   -->
<script src="{{ "js/core/jquery.3.4.1.min.js" | relURL }}" type="text/javascript"></script>
<!--   required by bootstrap   -->
<script src="{{ "js/core/popper.min.js" | relURL }}" type="text/javascript"></script>
<script src="{{ "js/core/bootstrap.min.js" | relURL }}" type="text/javascript"></script>
<!-- needed for mobile menu -->
<script src="{{ "js/now-ui-kit.js?v=1.1.0" | relURL }}" type="text/javascript"></script>
<!-- BackToTop Script -->
<script src="{{ "js/plugins/vanilla-back-to-top.min.js" | relURL }}" ></script>


<!-- do not run on news page -->
{{ if ne .Title "News"}} 

<script type="text/javascript">
    $(document).ready(function() { 
        setTimeout(function(){ 
            $(".progress-bar").css("width", "30%");
         }, 100);
         setTimeout(function(){ 
            $(".progress-bar").css("width", "45%");
         }, 200);
         setTimeout(function(){ 
            $(".progress-bar").css("width", "65%");
         }, 300);
         setTimeout(function(){ 
            $(".progress-bar").css("width", "84%");
         }, 400);
         setTimeout(function(){ 
            $(".progress-bar").css("width", "96%");
         }, 460);
        setTimeout(function(){ 
            $(".progress-bar").css("width", "100%");
            $(".logo-overlay-loader").fadeOut();
         }, 600); 
         setTimeout(function(){ 
            $(".social-animation").removeClass("social-animation");
         }, 5000);
// hide page title on scroll
if ($( window ).width() > 992) {
      $(window).scroll(function() {
        if ($(this).scrollTop()>50) {
          $('.title-container').fadeOut();
          $(".page-header-image").css("filter", "grayscale(0%)");
      }
        else {
          $('.title-container').fadeIn();
          $(".page-header-image").css("filter", "grayscale(100%)");
        }
      });
    };
    });

        // hide page title on scroll
        if ($( window ).width() > 992) {
            $(window).scroll(function() {
                if ($(this).scrollTop()>50) {
                $('.title-container').fadeOut();
                $(".page-header-image").css("filter", "grayscale(0%)");
                $("#contact").hide();
            }
                else {
                $('.title-container').fadeIn();
                $(".page-header-image").css("filter", "grayscale(100%)");
                $("#contact").show();
                }
            });
            };
            function scrollToDownload() {

                if ($('.section-download').length != 0) {
                    $("html, body").animate({
                        scrollTop: $('.section-download').offset().top
                    }, 1000);
                }
            }
</script>

{{ range .Site.Params.custom_js }}
<script src="{{ "/js/" | relURL }}{{ . }}"></script>
{{ end }}

{{ end }}  
<!-- do not run on news page -->
<script>
addBackToTop({
        diameter: 56,
        backgroundColor: '#44883C',
        textColor: '#fff'
    })
</script>


<!-- only run on news page -->
{{ if eq .Title "News"}} 
<script>$("a[href='/news/']").hide();</script>
<script src="/js/isotope.pkgd.min.js" type="text/javascript"></script>
<script src="/js/imagesloaded.pkgd.min.js" type="text/javascript"></script>
<script src="/js/feedreader.js" type="text/javascript"></script>
<script src="/js/gifffer.min.js" type="text/javascript"></script>
{{ end }}

{{ if .IsHome }}
<script>
function scrollToContent() {
    $('html, body').animate({
                scrollTop: $('#content' ).offset().top -200
                }, 500);
}
$("#scrolltocontent").on('click', function() {
    scrollToContent();
});
$(window).one("scroll", function(){
    scrollToContent();
});
// contact form
$("#btn-contact").on('click', function() {
    var template = `
    <div id="contact-form" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
            <form id="form" method="post" role="form" >
    <div class="row">
            <div class="col-md-6">
            <span class="text-muted">All fields are required.</span><br>
            
   <span> <input type="checkbox" name="human-check" class="form-check-input" id="human-check">
    <label class="form-check-label text-muted" for="human-check">I am not a Bot.</label></span>
  
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label for="name">Name</label>
                <input id="name" type="text" name="name" class="form-control" placeholder="Please enter your Name" required="required">
            </div>
        </div>
    </div>
    <div class="row">
        
        <div class="col-md-6">
            <div class="form-group">
                <label for="subject">Subject</label>
                <select id="subject" name="subject" class="form-control" required="required">
                    <option value="Report Hardware Issue">Report Hardware Issue</option>
                    <option value="Provide Feedback">Provide Feedback</option>
                    <option value="Hardware Inquire">Hardware Inquire</option>
                    <option value="SoftWare Inquire">SoftWare Inquire</option>
                    <option value="Other">Other</option>
                </select>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label for="email">Email</label>
                <input id="email" type="email" name="email" class="form-control" placeholder="Please enter your Email" required="required">
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="form-group">
                <label for="message">Message</label>
                <textarea id="message" name="message" class="form-control" placeholder="Leave a Message, We will get back to you as soon as we can." rows="4" required="required"></textarea>
            </div>
        </div>
        <div class="col-md-12">
            <input type="submit" class="btn btn-success btn-send" value="Send">
        </div>
    </div>
    <div class="row">
       
    </div>
</form>


</div></div>
</div>
    
    `
$( "body" ).append( template );
$('#human-check').change(function(){
    if($(this).is(":checked")) {
        $('.form-check-label').removeClass('text-muted');
    } else {
        $('.form-check-label').addClass('text-muted');
    }
});
$('#form').submit(function(event) {
    event.preventDefault();
    if ($("#human-check").prop('checked')) {
        var formData = $('#form').serialize();
        $.ajax({
            type        : 'POST', 
            url         : 'https://manjaro.org/contact-form.php', 
            data        : formData, 
            dataType    : 'json',
            encode      : true
        }).done(function(data) {
            $('#contact-form, .modal-backdrop').hide().remove();
            alert(data['message']);
            // todo handle errors and validation messages
            });
        } else {
            alert("Check Anti Spam box");
        }
    });
});
</script>
<script> 
    var $buoop = {required:{e:-2,f:-2,o:-2,s:-1,c:-2},
    insecure:true,
    unsupported:true,
    style:"corner",
    api:2019.05,
    text: `
    <p class='black-text'>Your browser engine {brow_name} is out of date.<p>
    <p>Update your browser or install a new one for more security, speed and best experience on manjaro.org and other websites.</p>
    <p class='black-text'>Tip: In Manjaro you can update your browser using Pamac or Octopi.</p>
    <a id='bourgul' href='http://outdatedbrowser.com/en' target="_blank">Browsers Info</a>
    <a {ignore_but}>Ignore</a>
    `,
    {{ if .Site.IsServer }}test: true{{ else }}test: false{{ end }}
    }; 
    function $buo_f(){ 
     var e = document.createElement("script"); 
     e.src = "//browser-update.org/update.min.js"; 
     document.body.appendChild(e);
    };
    try {document.addEventListener("DOMContentLoaded", $buo_f,false)}
    catch(e){window.attachEvent("onload", $buo_f)}
</script>
{{ end }}


{{ if eq .Title "Downloads"}} 
<script>
$("a[href='/download/']").hide();

$('.editions-grid').append($('.architect'));
$('.editions-grid').prepend($('.kde'));
$('.editions-grid').prepend($('.xfce'));
// hide preview button if previews are not available
if ( $('.dev ul').children().length === 0 ) { 
    $("#dev").hide();
     }


function show_editions(editions) {
    if ($(window).width() > 991) {
        var space = $(window).width()
        $('.editions-grid').animate({left: space}, 500).promise().done(function() {
            $('.edition').hide()
            $(this).css('left', - space);
            $(editions).show()
            $(this).animate({left: 0}, 500);
        });
    } else {
        $('.edition').hide();
        $(editions).show();
    }
}

if ($(window).width() < 991) {
    $('.official-logo').attr('src', '/img/icon-white.svg');
}

$('#official').hover( function () {
    $('.official-logo').attr('src', '/img/icon-white.svg');
}, function () {
    if ($(window).width() > 991) {
        $('.official-logo').attr('src', '/img/icon.svg');
}
});
$('.official').show();
setTimeout(function () { 
    displayArrow();
        }, 1600);

function displayArrow() {

    function timing() { 
        var timer = setTimeout(function () { 
        $('#go-down').hide();
        }, 1600);
    }

    if ($('#go-down').is(':visible')) {
        clearTimeout(timer);
        timing();
        $('#go-down').show();
    } else {
    $('#go-down').show();
    timing();
    }
}

</script>
{{ end }}


{{ if eq .Title "Donate"}} 
<script>$("a[href='/donate/']").hide();</script>
{{ end }}


    
